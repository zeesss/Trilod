!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@fortawesome/free-solid-svg-icons"),require("@angular/common"),require("@angular/forms"),require("@fortawesome/angular-fontawesome")):"function"==typeof define&&define.amd?define("ngx-show-hide-password",["exports","@angular/core","rxjs","@fortawesome/free-solid-svg-icons","@angular/common","@angular/forms","@fortawesome/angular-fontawesome"],t):t((e=e||self)["ngx-show-hide-password"]={},e.ng.core,e.rxjs,e.freeSolidSvgIcons,e.ng.common,e.ng.forms,e.angularFontawesome)}(this,function(e,t,r,i,n,s,o){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};var u=function(){function e(){this.states=[]}return e.prototype.getIO=function(e){var t=this.states.find(function(t){return t.id===e});return!t&&e&&(t=this.init(e)),t},e.prototype.init=function(e){var t={id:e,show:!1,subject:new r.ReplaySubject(1)};return this.states.push(t),t},e.prototype.saveAndProadcast=function(e,t){e.show=t,e.subject.next(e.show)},e.prototype.getObservable=function(e){return this.getIO(e).subject},e.prototype.setShow=function(e,t){this.saveAndProadcast(this.getIO(e),t)},e.prototype.toggleShow=function(e){var t=this.getIO(e);this.saveAndProadcast(t,!t.show)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}();var d=function(){function e(e,t){this.service=e,this.errorHandler=t}return e.prototype.onClick=function(){this.showHideTrigger?this.service.toggleShow(this.showHideTrigger):this.errorHandler.handleError(new Error("No input id found. Please read the docs!"))},e.decorators=[{type:t.Directive,args:[{selector:"[showHideTrigger]"}]}],e.ctorParameters=function(){return[{type:u},{type:t.ErrorHandler}]},e.propDecorators={showHideTrigger:[{type:t.Input}],onClick:[{type:t.HostListener,args:["click"]}]},e}();var h=function(){function e(e,t,r,i){this.service=e,this.el=t,this.renderer=r,this.errorHandler=i}return Object.defineProperty(e.prototype,"showHideStatus",{set:function(e){this.init(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;this.config=a({},{show:"visibility",hide:"visibility_off",materialIcon:!1,id:null},e),this.config.id?this.subscription=this.service.getObservable(this.config.id).subscribe(function(e){return t.updateStatus(e)}):this.errorHandler.handleError(new Error("No input id found. Please read the docs!"))},e.prototype.updateStatus=function(e){this.config.materialIcon?this.renderer.setProperty(this.el.nativeElement,"innerHTML",e?this.config.hide:this.config.show):(this.renderer.removeClass(this.el.nativeElement,e?this.config.show:this.config.hide),this.renderer.addClass(this.el.nativeElement,e?this.config.hide:this.config.show))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.decorators=[{type:t.Directive,args:[{selector:"[showHideStatus]"}]}],e.ctorParameters=function(){return[{type:u},{type:t.ElementRef},{type:t.Renderer2},{type:t.ErrorHandler}]},e.propDecorators={showHideStatus:[{type:t.Input}]},e}();var c=function(){function e(e,t,r){if(this.service=e,this.el=t,this.renderer=r,this.id=this.el.nativeElement.getAttribute("id"),!this.id)throw new Error("No input id found. Please read the docs!");this.service.setShow(this.id,"password"!==this.el.nativeElement.type)}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.service.getObservable(this.id).subscribe(function(t){return e.renderer.setAttribute(e.el.nativeElement,"type",t?"text":"password")})},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.decorators=[{type:t.Directive,args:[{selector:"input[showHideInput]"}]}],e.ctorParameters=function(){return[{type:u},{type:t.ElementRef},{type:t.Renderer2}]},e}();var p={Primary:"primary",Secondary:"secondary",Success:"success",Danger:"danger",Warning:"warning",Info:"info",Dark:"dark",Light:"light"},l=function(){function e(e,t,r){this.service=e,this.elem=t,this.renderer=r,this.btnStyle=p.Secondary,this.btnOutline=!0,this.faEye=i.faEye,this.faEyeSlash=i.faEyeSlash}return e.prototype.ngOnInit=function(){var e=this;if(this.input=this.elem.nativeElement.querySelector("input"),!this.input)throw new Error("No input element found. Please read the docs!");this.id=this.input.getAttribute("id"),this.id||(this.id="showHideInput"+Math.round(1e5*Math.random()),this.renderer.setAttribute(this.input,"id",this.id)),this.renderer.addClass(this.elem.nativeElement,"input-group"),"sm"===this.size?this.renderer.addClass(this.elem.nativeElement,"input-group-sm"):"lg"===this.size&&this.renderer.addClass(this.elem.nativeElement,"input-group-lg"),this.isHidden="password"===this.input.type,this.renderer.addClass(this.input,"form-control"),this.service.setShow(this.id,"password"!==this.input.type),this.subscription=this.service.getObservable(this.id).subscribe(function(t){e.isHidden=!t,e.renderer.setAttribute(e.input,"type",t?"text":"password")})},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.decorators=[{type:t.Component,args:[{selector:"show-hide-password",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'\n  <ng-content></ng-content>\n  <div class="input-group-append ngx-show-hide-password">\n    <button class="btn" [ngClass]="(btnOutline ? \'btn-outline-\' + btnStyle : \'btn-\' + btnStyle)"\n      type="button" [showHideTrigger]="id">\n      <fa-icon [fixedWidth]="true" size="lg" [icon]="(isHidden ? faEye : faEyeSlash)"\n        [showHideStatus]="{id: id}"></fa-icon>\n    </button>\n  </div>\n'}]}],e.ctorParameters=function(){return[{type:u},{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={btnStyle:[{type:t.Input}],btnOutline:[{type:t.Input}],size:[{type:t.Input}]},e}();var f=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,s.FormsModule,o.FontAwesomeModule],exports:[l,d,c,h],declarations:[l,d,c,h]}]}],e}();e.BtnStyle=p,e.ShowHideInputDirective=c,e.ShowHidePasswordComponent=l,e.ShowHidePasswordModule=f,e.ShowHideService=u,e.ShowHideStatusDirective=h,e.ShowHideTriggerDirective=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-show-hide-password.umd.min.js.map