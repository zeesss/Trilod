#! /usr/bin/env node

const download = require('./download-webviewer');
const argv = require('yargs').argv;
const path = require('path');

(() => {
  let webviewerLocation = './public/lib';
  let version = null;
  let options = {};

  if (argv.webviewerLocation || argv.path) {
    webviewerLocation = argv.webviewerLocation || argv.path;
  }

  if (argv.v) {
    version = argv.v;
  }

  if (argv.pdfjs) {
    options.pdfjs = true;
  }

  if (argv.coreOnly) {
    options.coreOnly = true;
  }

  if (argv.npm) {
    options.npm = true;
  }

  const location = path.resolve(webviewerLocation);
  download(location, version, options);
})()